<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body{
            background-color: aqua;
        }
        .msgBox{
            background-color:rgb(255, 108, 108);
            width: 242px;
            /* height: 400px; temporaire */
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .msgBox p{
            background-color: rgb(255, 108, 108);
            padding: 10px 20px;
            color: black;
        }
        .msgBox button{
            background-color: grey;
            position: absolute;
            top: .5rem;
            right: .5rem;
        }
        .warning{
            background: url('images/warning.png');
            width: 2rem;
            height: 2rem;
        }
    </style>
</head>
<body>
    <!-- On retire la div ici , car on va la generer dynamiquement en javaScript -->
    <!-- <div class="msgBox">
        <p>Message</p>
        <button>X</button>
    </div> -->
    <button id="btnAfficheDialog">je suis une boite de dialogue</button>

    <script>
        /* Si la msgType a la valeur 'warning', alors  l'icone warning sera affichée comme background image du msg, et le panel prendra la couleur d'arriere plan rouge.
         Sinon le msgType a la valeur 'chat', alors l'icone chat sera affichée et le panel prendra la couleur d'arriere plan bleu turquoise.
        Si le parametre msgType n'a pas de valeur du tout, alors, le paragraphe prendra un padding par defaut et il n'y aura ni icone ni couleur d'arriere plan
        1ere etape construisez les if avec les instructions suivantes:
        //Si (le msgType a la valeur de 'warning)
        */

        var btnOpenBox = document.getElementById('btnAfficheDialog');
        function afficheMessage(){

            var warning = document.createElement('img');
            boiteDialogue.setAttribute('class', 'warning');
            boiteDialogue.appendChild(warning);

            // dans une variable nommée html on selectionne la balise html dans le DOM
            var body = document.querySelector('body');
            // dans une variable boiteDialogue, on créé un objet div, avec la methode createElement
            var boiteDialogue = document.createElement('div');
            // Ajouter a cette boiteDialogue l'attibut class'msgBox' avec la methode setAttribute('nomde l'attribut' , 'nouvelleValeur')
            // les deux parametres attendus 1- nom de l'attribut: on mettra class || 2- nouvelle valeur: on mettra msgBox
            boiteDialogue.setAttribute('class','msgBox');
            body.appendChild(boiteDialogue);
            // creer une variable pMessage qui créé un objet paragraphe 'p'
            var pMessage = document.createElement('p');
            // ajouter a cet objet pMessage le contenu texte suivant: 'je suis une boite de dialogue' avec la methode textContent
            pMessage.textContent = 'Attention la boite de dialogue est pleine';
            // et ajoute ce pMessage comme enfant de la boiteDialogue créée tout a l'heure.
            boiteDialogue.appendChild(pMessage);
            // creer une variable closeBtn qui contient un nouvel objet virtuel button, 
            var closeBtn = document.createElement('button');
            // ajouter a cet objet le contenu texte 'X'
            closeBtn.textContent = 'X';
            // donner a l'objet boiteDialogue cet enfant closeBtn
            boiteDialogue.appendChild(closeBtn);
            // pour fermer la boite de dialogue
            closeBtn.addEventListener('click', function(){
                boiteDialogue.parentNode.removeChild(boiteDialogue);
                
            })
        }//fin de la fonction afficheMessage()
        // ajouter a btnOpenBox un eventListener qui au clique declanche la fontion afficheMassage()
        btnOpenBox.addEventListener('click', afficheMessage);    
            
    </script>
</body>
</html>